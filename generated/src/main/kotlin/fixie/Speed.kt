// Generated by fixie at 10-02-2024 22:00
package fixie

import java.text.DecimalFormat
import java.util.Locale
import kotlin.time.Duration
import kotlin.time.DurationUnit

@JvmInline
value class Speed internal constructor(val value: FixDisplacement) : Comparable<Speed> {

	fun toDouble(unit: SpeedUnit) = when(unit) {
		SpeedUnit.METERS_PER_SECOND -> value.toDouble()
		SpeedUnit.KILOMETERS_PER_HOUR -> value.toDouble() * 3.6
		SpeedUnit.MILES_PER_HOUR -> value.toDouble() * 2.2369362921
		SpeedUnit.KILOMETERS_PER_SECOND -> value.toDouble() * 0.001
	}

	override fun toString() = toString(SpeedUnit.KILOMETERS_PER_HOUR)

	fun toString(unit: SpeedUnit): String {
		val format = DecimalFormat.getInstance(Locale.ROOT)
		format.maximumFractionDigits = 4
		return format.format(toDouble(unit)) + unit.abbreviation
	}

	@Throws(FixedPointException::class)
	override operator fun compareTo(other: Speed) = this.value.compareTo(other.value)

	@Throws(FixedPointException::class)
	operator fun unaryMinus() = Speed(-value)

	@Throws(FixedPointException::class)
	operator fun plus(right: Speed) = Speed(this.value + right.value)

	@Throws(FixedPointException::class)
	operator fun minus(right: Speed) = Speed(this.value - right.value)

	@Throws(FixedPointException::class)
	operator fun times(right: Int) = Speed(this.value * right)

	@Throws(FixedPointException::class)
	operator fun div(right: Int) = Speed(this.value / right)

	@Throws(FixedPointException::class)
	operator fun times(right: Long) = Speed(this.value * right)

	@Throws(FixedPointException::class)
	operator fun div(right: Long) = Speed(this.value / right)

	@Throws(FixedPointException::class)
	operator fun times(right: Float) = Speed(this.value * right)

	@Throws(FixedPointException::class)
	operator fun div(right: Float) = Speed(this.value / right)

	@Throws(FixedPointException::class)
	operator fun times(right: Double) = Speed(this.value * right)

	@Throws(FixedPointException::class)
	operator fun div(right: Double) = Speed(this.value / right)

	@Throws(FixedPointException::class)
	operator fun times(right: FixDisplacement) = Speed(this.value * right)

	@Throws(FixedPointException::class)
	operator fun div(right: FixDisplacement) = Speed(this.value / right)

	@Throws(FixedPointException::class)
	operator fun times(right: Duration) = (toDouble(SpeedUnit.METERS_PER_SECOND) * right.toDouble(DurationUnit.SECONDS).m)

	@Throws(FixedPointException::class)
	operator fun div(right: Speed) = this.value / right.value

	companion object {

		fun raw(value: Int) = Speed(FixDisplacement.raw(value))

		val METERS_PER_SECOND = Speed(FixDisplacement.ONE)

		val KILOMETERS_PER_HOUR = METERS_PER_SECOND * 0.2777777777777778

		val MILES_PER_HOUR = METERS_PER_SECOND * 0.44703999999088756

		val KILOMETERS_PER_SECOND = METERS_PER_SECOND * 1000.0
	}
}

@Throws(FixedPointException::class)
operator fun Int.times(right: Speed) = right * this

val Int.mps
	get() = Speed.METERS_PER_SECOND * this

val Int.kmph
	get() = Speed.KILOMETERS_PER_HOUR * this

val Int.miph
	get() = Speed.MILES_PER_HOUR * this

val Int.kmps
	get() = Speed.KILOMETERS_PER_SECOND * this

@Throws(FixedPointException::class)
operator fun Long.times(right: Speed) = right * this

val Long.mps
	get() = Speed.METERS_PER_SECOND * this

val Long.kmph
	get() = Speed.KILOMETERS_PER_HOUR * this

val Long.miph
	get() = Speed.MILES_PER_HOUR * this

val Long.kmps
	get() = Speed.KILOMETERS_PER_SECOND * this

@Throws(FixedPointException::class)
operator fun Float.times(right: Speed) = right * this

val Float.mps
	get() = Speed.METERS_PER_SECOND * this

val Float.kmph
	get() = Speed.KILOMETERS_PER_HOUR * this

val Float.miph
	get() = Speed.MILES_PER_HOUR * this

val Float.kmps
	get() = Speed.KILOMETERS_PER_SECOND * this

@Throws(FixedPointException::class)
operator fun Double.times(right: Speed) = right * this

val Double.mps
	get() = Speed.METERS_PER_SECOND * this

val Double.kmph
	get() = Speed.KILOMETERS_PER_HOUR * this

val Double.miph
	get() = Speed.MILES_PER_HOUR * this

val Double.kmps
	get() = Speed.KILOMETERS_PER_SECOND * this

@Throws(FixedPointException::class)
operator fun FixDisplacement.times(right: Speed) = right * this

val FixDisplacement.mps
	get() = Speed.METERS_PER_SECOND * this

val FixDisplacement.kmph
	get() = Speed.KILOMETERS_PER_HOUR * this

val FixDisplacement.miph
	get() = Speed.MILES_PER_HOUR * this

val FixDisplacement.kmps
	get() = Speed.KILOMETERS_PER_SECOND * this

@Throws(FixedPointException::class)
fun abs(x: Speed) = Speed(abs(x.value))

fun min(a: Speed, b: Speed) = Speed(min(a.value, b.value))

fun max(a: Speed, b: Speed) = Speed(max(a.value, b.value))
